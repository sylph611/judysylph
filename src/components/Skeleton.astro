---
interface Props {
  type?: 'card' | 'text' | 'circle' | 'button';
  width?: string;
  height?: string;
  className?: string;
}

const { type = 'text', width, height, className = '' } = Astro.props;

const baseClass = 'animate-pulse bg-gray-200 dark:bg-gray-700 rounded';

const typeClasses = {
  card: 'rounded-2xl',
  text: 'rounded',
  circle: 'rounded-full',
  button: 'rounded-xl'
};
---

<div
  class:list={[baseClass, typeClasses[type], className]}
  style={`${width ? `width: ${width};` : ''} ${height ? `height: ${height};` : ''}`}
/>

<style>
  .animate-pulse {
    background: linear-gradient(
      90deg,
      rgb(229 231 235) 25%,
      rgb(243 244 246) 50%,
      rgb(229 231 235) 75%
    );
    background-size: 200% 100%;
    animation: shimmer 1.5s infinite;
  }

  :global(.dark) .animate-pulse {
    background: linear-gradient(
      90deg,
      rgb(55 65 81) 25%,
      rgb(75 85 99) 50%,
      rgb(55 65 81) 75%
    );
    background-size: 200% 100%;
  }

  @keyframes shimmer {
    0% {
      background-position: 200% 0;
    }
    100% {
      background-position: -200% 0;
    }
  }
</style>
