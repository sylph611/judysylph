---
import Layout from '../../../layouts/Layout.astro';
import { getTool } from '../../../utils/tools';

const lang = 'ko';
const tool = getTool('loan-comparison', lang);
---

<Layout title={`${tool?.title} | JudySylph`} description={tool?.description}>
  <div class="max-w-4xl mx-auto px-4 py-8">
    <div class="text-center mb-8">
      <div class="text-5xl mb-4">{tool?.emoji}</div>
      <h1 class="text-3xl font-bold text-gray-900 dark:text-white mb-2">{tool?.title}</h1>
      <p class="text-gray-600 dark:text-gray-400">{tool?.description}</p>
    </div>

    <div class="bg-white dark:bg-gray-800 rounded-2xl p-6 shadow-lg">
      <form id="calc-form" class="space-y-6">
        <div>
          <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">í•„ìš” ê¸ˆì•¡</label>
          <input type="text" id="loanAmount" placeholder="500" required class="w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-xl bg-white dark:bg-gray-700 text-gray-900 dark:text-white" />
          <p class="text-xs text-gray-500 mt-1">ë§Œì›</p>
        </div>

        <div class="grid grid-cols-2 gap-4">
          <div class="bg-blue-50 dark:bg-blue-900/20 rounded-xl p-4">
            <h3 class="font-bold text-blue-800 dark:text-blue-200 mb-3">ğŸ¦ ì‹ ìš©ëŒ€ì¶œ</h3>
            <div class="space-y-3">
              <div>
                <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">ê¸ˆë¦¬</label>
                <input type="number" id="creditRate" placeholder="6.5" step="0.1" value="6.5" class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white" />
                <p class="text-xs text-gray-500 mt-1">ì—° %</p>
              </div>
              <div>
                <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">ìƒí™˜ ê¸°ê°„</label>
                <select id="creditPeriod" class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white">
                  <option value="12">1ë…„</option>
                  <option value="24">2ë…„</option>
                  <option value="36" selected>3ë…„</option>
                  <option value="48">4ë…„</option>
                  <option value="60">5ë…„</option>
                </select>
              </div>
            </div>
          </div>

          <div class="bg-red-50 dark:bg-red-900/20 rounded-xl p-4">
            <h3 class="font-bold text-red-800 dark:text-red-200 mb-3">ğŸ’³ ì¹´ë“œë¡ /í˜„ê¸ˆì„œë¹„ìŠ¤</h3>
            <div class="space-y-3">
              <div>
                <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">ê¸ˆë¦¬</label>
                <input type="number" id="cardRate" placeholder="15" step="0.1" value="15" class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white" />
                <p class="text-xs text-gray-500 mt-1">ì—° %</p>
              </div>
              <div>
                <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">ìƒí™˜ ê¸°ê°„</label>
                <select id="cardPeriod" class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white">
                  <option value="6">6ê°œì›”</option>
                  <option value="12" selected>1ë…„</option>
                  <option value="18">18ê°œì›”</option>
                  <option value="24">2ë…„</option>
                  <option value="36">3ë…„</option>
                </select>
              </div>
            </div>
          </div>
        </div>

        <button type="submit" class="w-full px-6 py-3 bg-primary-600 text-white rounded-xl font-medium hover:bg-primary-700">ë¹„êµ ë¶„ì„í•˜ê¸°</button>
      </form>

      <div id="result-area" class="mt-8 hidden">
        <div id="result-header" class="rounded-2xl p-6 text-white text-center mb-6">
          <div id="verdict-emoji" class="text-5xl mb-2"></div>
          <div id="verdict" class="text-2xl font-bold mb-2"></div>
          <div id="verdict-desc" class="text-lg opacity-90"></div>
        </div>

        <div class="grid grid-cols-2 gap-4 mb-6">
          <div class="bg-blue-50 dark:bg-blue-900/20 rounded-xl p-4 border-2 border-transparent" id="card-credit">
            <h4 class="font-bold text-blue-800 dark:text-blue-200 mb-3 text-center">ğŸ¦ ì‹ ìš©ëŒ€ì¶œ</h4>
            <div class="space-y-2 text-sm">
              <div class="flex justify-between"><span class="text-gray-600 dark:text-gray-400">ì›” ìƒí™˜ê¸ˆ</span><span id="cr-monthly" class="font-medium">-</span></div>
              <div class="flex justify-between"><span class="text-gray-600 dark:text-gray-400">ì´ ì´ì</span><span id="cr-interest" class="font-medium">-</span></div>
              <div class="flex justify-between"><span class="text-gray-600 dark:text-gray-400">ì´ ìƒí™˜ì•¡</span><span id="cr-total" class="font-medium">-</span></div>
              <div class="flex justify-between"><span class="text-gray-600 dark:text-gray-400">ì‹¤ì§ˆ ì—°ì´ìœ¨</span><span id="cr-effective" class="font-medium">-</span></div>
            </div>
          </div>

          <div class="bg-red-50 dark:bg-red-900/20 rounded-xl p-4 border-2 border-transparent" id="card-card">
            <h4 class="font-bold text-red-800 dark:text-red-200 mb-3 text-center">ğŸ’³ ì¹´ë“œë¡ </h4>
            <div class="space-y-2 text-sm">
              <div class="flex justify-between"><span class="text-gray-600 dark:text-gray-400">ì›” ìƒí™˜ê¸ˆ</span><span id="ca-monthly" class="font-medium">-</span></div>
              <div class="flex justify-between"><span class="text-gray-600 dark:text-gray-400">ì´ ì´ì</span><span id="ca-interest" class="font-medium">-</span></div>
              <div class="flex justify-between"><span class="text-gray-600 dark:text-gray-400">ì´ ìƒí™˜ì•¡</span><span id="ca-total" class="font-medium">-</span></div>
              <div class="flex justify-between"><span class="text-gray-600 dark:text-gray-400">ì‹¤ì§ˆ ì—°ì´ìœ¨</span><span id="ca-effective" class="font-medium">-</span></div>
            </div>
          </div>
        </div>

        <div class="bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-600 rounded-xl p-5 mb-6">
          <h3 class="font-bold text-gray-900 dark:text-white mb-4">ğŸ“Š ë¹„ìš© ì°¨ì´</h3>
          <div class="space-y-3">
            <div class="flex justify-between items-center p-3 bg-gray-50 dark:bg-gray-700 rounded-lg">
              <span class="text-gray-600 dark:text-gray-400">ì´ì ì°¨ì´</span>
              <span id="interest-diff" class="font-bold"></span>
            </div>
            <div class="flex justify-between items-center p-3 bg-gray-50 dark:bg-gray-700 rounded-lg">
              <span class="text-gray-600 dark:text-gray-400">ì›” ìƒí™˜ê¸ˆ ì°¨ì´</span>
              <span id="monthly-diff" class="font-bold"></span>
            </div>
            <div class="flex justify-between items-center p-3 bg-primary-50 dark:bg-primary-900/20 rounded-lg">
              <span class="text-primary-700 dark:text-primary-300 font-medium">ì‹ ìš©ë“±ê¸‰ ì˜í–¥</span>
              <span id="credit-impact" class="font-bold"></span>
            </div>
          </div>
        </div>

        <div class="bg-yellow-50 dark:bg-yellow-900/20 rounded-xl p-5 mb-6">
          <h3 class="font-bold text-yellow-800 dark:text-yellow-200 mb-3">âš ï¸ ì¹´ë“œë¡  ìœ„í—˜ ì•Œë¦¼</h3>
          <div id="warning-text" class="text-sm text-yellow-700 dark:text-yellow-300"></div>
        </div>

        <!-- SEO Content -->
        <div id="seo-content" class="mt-8 space-y-6">
          <h2 id="seo-summary" class="text-2xl font-bold text-gray-900 dark:text-white"></h2>
          <div class="prose dark:prose-invert max-w-none">
            <h3 class="text-lg font-semibold text-gray-800 dark:text-gray-200">ğŸ“Œ ì´ ê²°ê³¼ê°€ ì˜ë¯¸í•˜ëŠ” ê²ƒ</h3>
            <p id="seo-meaning" class="text-gray-700 dark:text-gray-300 leading-relaxed"></p>
          </div>
          <!-- AD_SLOT: middle-content -->
          <div class="prose dark:prose-invert max-w-none">
            <h3 class="text-lg font-semibold text-gray-800 dark:text-gray-200">ğŸ‘¤ ì´ëŸ° ë¶„ì—ê²Œ ì í•©í•©ë‹ˆë‹¤</h3>
            <p id="seo-suitable" class="text-gray-700 dark:text-gray-300 leading-relaxed"></p>
          </div>
          <div class="prose dark:prose-invert max-w-none">
            <h3 class="text-lg font-semibold text-gray-800 dark:text-gray-200">âš ï¸ ì£¼ì˜í•´ì•¼ í•  ì </h3>
            <p id="seo-caution" class="text-gray-700 dark:text-gray-300 leading-relaxed"></p>
          </div>
          <!-- AD_SLOT: before-faq -->
          <div class="bg-gray-50 dark:bg-gray-700 rounded-xl p-5">
            <h3 class="text-lg font-semibold text-gray-900 dark:text-white mb-4">â“ ìì£¼ ë¬»ëŠ” ì§ˆë¬¸</h3>
            <div id="faq-content" class="space-y-4"></div>
          </div>
          <div class="bg-primary-50 dark:bg-primary-900/20 rounded-xl p-5">
            <h3 class="text-lg font-semibold text-primary-800 dark:text-primary-200 mb-3">ğŸ”— ê´€ë ¨ ê³„ì‚°ê¸°</h3>
            <div class="flex flex-wrap gap-2">
              <a href="/ko/tools/loan-refinance" class="px-4 py-2 bg-white dark:bg-gray-800 rounded-lg text-primary-600 dark:text-primary-400 hover:bg-primary-100 dark:hover:bg-gray-700 transition-colors">ğŸ”„ ëŒ€ì¶œ ê°ˆì•„íƒ€ê¸°</a>
              <a href="/ko/tools/salary-calculator" class="px-4 py-2 bg-white dark:bg-gray-800 rounded-lg text-primary-600 dark:text-primary-400 hover:bg-primary-100 dark:hover:bg-gray-700 transition-colors">ğŸ’° ì—°ë´‰ ì‹¤ìˆ˜ë ¹ì•¡</a>
              <a href="/ko/tools/mortgage-comparison" class="px-4 py-2 bg-white dark:bg-gray-800 rounded-lg text-primary-600 dark:text-primary-400 hover:bg-primary-100 dark:hover:bg-gray-700 transition-colors">ğŸ“Š ëŒ€ì¶œ ìƒí™˜ ë¹„êµ</a>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="mt-8 text-center"><a href="/ko/tools" class="text-primary-600 dark:text-primary-400 hover:underline">â† ë„êµ¬ ëª©ë¡</a></div>
  </div>
</Layout>

<script>
  const form = document.getElementById('calc-form') as HTMLFormElement;
  const loanInput = document.getElementById('loanAmount') as HTMLInputElement;

  loanInput?.addEventListener('input', e => {
    const v = (e.target as HTMLInputElement).value.replace(/\D/g,'');
    (e.target as HTMLInputElement).value = Number(v).toLocaleString('ko-KR');
  });

  function calcMonthlyPayment(principal: number, annualRate: number, months: number): number {
    const r = annualRate / 100 / 12;
    if (r === 0) return principal / months;
    return principal * r * Math.pow(1+r, months) / (Math.pow(1+r, months) - 1);
  }

  form?.addEventListener('submit', e => {
    e.preventDefault();

    const amount = parseInt(loanInput.value.replace(/,/g,'')) * 10000;
    const creditRate = parseFloat((document.getElementById('creditRate') as HTMLInputElement).value);
    const creditMonths = parseInt((document.getElementById('creditPeriod') as HTMLSelectElement).value);
    const cardRate = parseFloat((document.getElementById('cardRate') as HTMLInputElement).value);
    const cardMonths = parseInt((document.getElementById('cardPeriod') as HTMLSelectElement).value);

    // ì‹ ìš©ëŒ€ì¶œ
    const crMonthly = calcMonthlyPayment(amount, creditRate, creditMonths);
    const crTotal = crMonthly * creditMonths;
    const crInterest = crTotal - amount;

    // ì¹´ë“œë¡ 
    const caMonthly = calcMonthlyPayment(amount, cardRate, cardMonths);
    const caTotal = caMonthly * cardMonths;
    const caInterest = caTotal - amount;

    const interestDiff = caInterest - crInterest;
    const monthlyDiff = Math.abs(crMonthly - caMonthly);

    document.getElementById('result-area')?.classList.remove('hidden');

    // Verdict
    const header = document.getElementById('result-header')!;
    header.className = 'bg-gradient-to-br from-blue-500 to-cyan-600 rounded-2xl p-6 text-white text-center mb-6';
    document.getElementById('verdict-emoji')!.textContent = 'ğŸ¦';
    document.getElementById('verdict')!.textContent = 'ì‹ ìš©ëŒ€ì¶œì´ í›¨ì”¬ ìœ ë¦¬!';
    document.getElementById('verdict-desc')!.textContent = `ì¹´ë“œë¡  ëŒ€ë¹„ ${Math.round(interestDiff/10000).toLocaleString()}ë§Œì› ì´ì ì ˆê°`;

    document.getElementById('card-credit')!.classList.add('border-blue-500');

    // Display
    document.getElementById('cr-monthly')!.textContent = Math.round(crMonthly).toLocaleString() + 'ì›';
    document.getElementById('cr-interest')!.textContent = Math.round(crInterest/10000).toLocaleString() + 'ë§Œì›';
    document.getElementById('cr-total')!.textContent = Math.round(crTotal/10000).toLocaleString() + 'ë§Œì›';
    document.getElementById('cr-effective')!.textContent = creditRate + '%';

    document.getElementById('ca-monthly')!.textContent = Math.round(caMonthly).toLocaleString() + 'ì›';
    document.getElementById('ca-interest')!.textContent = Math.round(caInterest/10000).toLocaleString() + 'ë§Œì›';
    document.getElementById('ca-total')!.textContent = Math.round(caTotal/10000).toLocaleString() + 'ë§Œì›';
    document.getElementById('ca-effective')!.textContent = cardRate + '%';

    const interestDiffEl = document.getElementById('interest-diff')!;
    interestDiffEl.textContent = `ì‹ ìš©ëŒ€ì¶œì´ ${Math.round(interestDiff/10000).toLocaleString()}ë§Œì› ì ˆê°`;
    interestDiffEl.className = 'font-bold text-blue-600';

    document.getElementById('monthly-diff')!.textContent = Math.round(monthlyDiff).toLocaleString() + 'ì›';

    const creditImpact = document.getElementById('credit-impact')!;
    creditImpact.textContent = 'ì¹´ë“œë¡ ì´ ì‹ ìš©ì ìˆ˜ì— ë” ë¶ˆë¦¬';
    creditImpact.className = 'font-bold text-red-500';

    // Warning
    const warningText = `ì¹´ë“œë¡  ${Math.round(amount/10000).toLocaleString()}ë§Œì› ì´ìš© ì‹œ ì—° ${cardRate}% ê¸ˆë¦¬ë¡œ ` +
      `${cardMonths}ê°œì›”ê°„ ${Math.round(caInterest/10000).toLocaleString()}ë§Œì›ì˜ ì´ìê°€ ë°œìƒí•©ë‹ˆë‹¤. ` +
      `ì´ëŠ” ì‹ ìš©ëŒ€ì¶œ ëŒ€ë¹„ ${Math.round(interestDiff/10000).toLocaleString()}ë§Œì› ë” ë§ìŠµë‹ˆë‹¤. ` +
      `ë˜í•œ ì¹´ë“œë¡ ì€ ì‹ ìš©í‰ê°€ ì‹œ 'ê³ ê¸ˆë¦¬ ëŒ€ì¶œ'ë¡œ ë¶„ë¥˜ë˜ì–´ ì‹ ìš©ì ìˆ˜ í•˜ë½ ìš”ì¸ì´ ë©ë‹ˆë‹¤.`;
    document.getElementById('warning-text')!.textContent = warningText;

    // SEO
    generateSeoContent(amount, creditRate, creditMonths, cardRate, cardMonths, crInterest, caInterest, interestDiff);
  });

  function generateSeoContent(amount: number, creditRate: number, creditMonths: number, cardRate: number, cardMonths: number, crInterest: number, caInterest: number, interestDiff: number) {
    const amountMan = amount / 10000;

    // Summary
    const summaryText = `${amountMan.toLocaleString()}ë§Œì› ëŒ€ì¶œ ì‹œ ì‹ ìš©ëŒ€ì¶œ(${creditRate}%)ì´ ì¹´ë“œë¡ (${cardRate}%)ë³´ë‹¤ ${Math.round(interestDiff/10000).toLocaleString()}ë§Œì› ì ˆê°`;
    document.getElementById('seo-summary')!.textContent = `ğŸ“‹ ê²°ê³¼ ìš”ì•½: ${summaryText}`;

    // Meaning
    const meaningText = `${amountMan.toLocaleString()}ë§Œì›ì„ ë¹Œë¦´ ë•Œ, ì‹ ìš©ëŒ€ì¶œ(ì—° ${creditRate}%, ${creditMonths}ê°œì›”)ì€ ì´ ì´ì ${Math.round(crInterest/10000).toLocaleString()}ë§Œì›, ` +
      `ì¹´ë“œë¡ (ì—° ${cardRate}%, ${cardMonths}ê°œì›”)ì€ ì´ ì´ì ${Math.round(caInterest/10000).toLocaleString()}ë§Œì›ì´ ë°œìƒí•©ë‹ˆë‹¤. ` +
      `ì‹ ìš©ëŒ€ì¶œì„ ì„ íƒí•˜ë©´ ${Math.round(interestDiff/10000).toLocaleString()}ë§Œì›ì˜ ì´ìë¥¼ ì•„ë‚„ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ` +
      `ê¸ˆë¦¬ ì°¨ì´ê°€ ${(cardRate - creditRate).toFixed(1)}%pë¡œ, ì¹´ë“œë¡ ì€ ì‹ ìš©ëŒ€ì¶œ ëŒ€ë¹„ ${Math.round(cardRate/creditRate*100-100)}% ë†’ì€ ê¸ˆë¦¬ë¥¼ ì ìš©ë°›ìŠµë‹ˆë‹¤. ` +
      `ì´ì ë¶€ë‹´ ì™¸ì—ë„ ì¹´ë“œë¡ ì€ ì‹ ìš©í‰ê°€ì—ì„œ ë¶ˆë¦¬í•˜ê²Œ ì‘ìš©í•©ë‹ˆë‹¤.`;
    document.getElementById('seo-meaning')!.textContent = meaningText;

    // Suitable
    const suitableText = `<strong>ì‹ ìš©ëŒ€ì¶œ</strong>: ì§ì¥ì¸, ê³µë¬´ì› ë“± ì†Œë“ ì¦ë¹™ì´ ê°€ëŠ¥í•œ ë¶„, 1ì£¼ì¼ ì •ë„ ëŒ€ì¶œ ì‹¬ì‚¬ ê¸°ê°„ ì—¬ìœ ê°€ ìˆëŠ” ë¶„, ` +
      `ì‹ ìš©ë“±ê¸‰ ê´€ë¦¬ê°€ ì¤‘ìš”í•œ ë¶„, ì¤‘ì¥ê¸°(1~5ë…„) ìƒí™˜ ê³„íšì´ ìˆëŠ” ë¶„ì—ê²Œ ì í•©í•©ë‹ˆë‹¤. ` +
      `<strong>ì¹´ë“œë¡ </strong>: ë‹¹ì¥ ê¸‰ì „ì´ í•„ìš”í•˜ê³  ë©°ì¹  ë‚´ ìƒí™˜ ê°€ëŠ¥í•œ ê²½ìš°, ì†Œì•¡(100ë§Œì› ì´í•˜)ì„ ë‹¨ê¸°(1~2ê°œì›”) ì´ìš©í•˜ëŠ” ê²½ìš°ì—ë§Œ ì œí•œì ìœ¼ë¡œ ê³ ë ¤í•˜ì„¸ìš”.`;
    document.getElementById('seo-suitable')!.innerHTML = suitableText;

    // Caution
    const cautionText = `ì¹´ë“œë¡ /í˜„ê¸ˆì„œë¹„ìŠ¤ëŠ” ë‹¤ìŒì˜ ìœ„í—˜ì´ ìˆìŠµë‹ˆë‹¤. ì²«ì§¸, ì—° 15~20%ì˜ ê³ ê¸ˆë¦¬ë¡œ ì´ì ë¶€ë‹´ì´ í½ë‹ˆë‹¤. ` +
      `ë‘˜ì§¸, ì‹ ìš©í‰ê°€ì‚¬(NICE, KCB)ì—ì„œ 'ê³ ê¸ˆë¦¬ ëŒ€ì¶œ'ë¡œ ë¶„ë¥˜ë˜ì–´ ì‹ ìš©ì ìˆ˜ê°€ í•˜ë½í•©ë‹ˆë‹¤. ` +
      `ì…‹ì§¸, ì—°ì²´ ì‹œ ì—° 24%ê¹Œì§€ ê¸ˆë¦¬ê°€ ì˜¤ë¥´ê³ , ì‹ ìš©ë¶ˆëŸ‰ìê°€ ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ` +
      `ë„·ì§¸, ì¹´ë“œë¡ ì„ ë°˜ë³µ ì‚¬ìš©í•˜ë©´ 'ëŒ€ì¶œ ì˜ì¡´'ìœ¼ë¡œ í‰ê°€ë˜ì–´ í–¥í›„ ì£¼ë‹´ëŒ€ ë“± ë‹¤ë¥¸ ëŒ€ì¶œ ì‹¬ì‚¬ì—ì„œ ë¶ˆì´ìµì„ ë°›ìŠµë‹ˆë‹¤.`;
    document.getElementById('seo-caution')!.textContent = cautionText;

    // FAQ
    const faqs = [
      {
        q: 'ì¹´ë“œë¡ ê³¼ í˜„ê¸ˆì„œë¹„ìŠ¤ì˜ ì°¨ì´ëŠ”?',
        a: 'í˜„ê¸ˆì„œë¹„ìŠ¤ëŠ” ì¹´ë“œ í•œë„ ë‚´ì—ì„œ ATM ì¸ì¶œí•˜ëŠ” ë°©ì‹ìœ¼ë¡œ ê¸ˆë¦¬ê°€ ê°€ì¥ ë†’ìŠµë‹ˆë‹¤(ì—° 20% ë‚´ì™¸). ì¹´ë“œë¡ ì€ ë³„ë„ ì‹ ì²­í•˜ì—¬ ê³„ì¢Œë¡œ ì…ê¸ˆë°›ëŠ” ë°©ì‹ìœ¼ë¡œ í˜„ê¸ˆì„œë¹„ìŠ¤ë³´ë‹¤ëŠ” ë‚®ì§€ë§Œ(ì—° 12~18%) ì—¬ì „íˆ ê³ ê¸ˆë¦¬ì…ë‹ˆë‹¤. ë‘˜ ë‹¤ ì‹ ìš©ì ìˆ˜ì— ë¶€ì •ì ì…ë‹ˆë‹¤.'
      },
      {
        q: 'ê¸‰í•˜ê²Œ ëˆì´ í•„ìš”í•  ë•Œ ëŒ€ì•ˆì€?',
        a: '1) ë¹„ìƒê¸ˆ ì˜ˆê¸ˆ í•´ì§€, 2) ë§ˆì´ë„ˆìŠ¤ í†µì¥ í™œìš©, 3) ì‹œì¤‘ì€í–‰ ëª¨ë°”ì¼ ì‹ ìš©ëŒ€ì¶œ(ë‹¹ì¼~1ì¼ ì‹¬ì‚¬), 4) ì •ë¶€ ê¸´ê¸‰ë³µì§€ ì§€ì› í™•ì¸. ì¹´ë“œë¡ ì€ ëª¨ë“  ë°©ë²•ì´ ë¶ˆê°€í•  ë•Œ ìµœí›„ì˜ ìˆ˜ë‹¨ìœ¼ë¡œë§Œ ì‚¬ìš©í•˜ì„¸ìš”.'
      },
      {
        q: 'ì¹´ë“œë¡ ì„ ì´ë¯¸ ì¼ë‹¤ë©´ ì–´ë–»ê²Œ í•´ì•¼ í•˜ë‚˜ìš”?',
        a: '1) ê°€ëŠ¥í•œ ë¹¨ë¦¬ ìƒí™˜(ì¼ë¶€ë¼ë„), 2) ì‹ ìš©ëŒ€ì¶œë¡œ ëŒ€í™˜(ê°ˆì•„íƒ€ê¸°) ê²€í† , 3) ì¶”ê°€ ì¹´ë“œë¡  ì‚¬ìš© ìì œ. ì¹´ë“œë¡  ìƒí™˜ í›„ 3~6ê°œì›”ì´ë©´ ì‹ ìš©ì ìˆ˜ê°€ ì ì°¨ íšŒë³µë©ë‹ˆë‹¤.'
      },
      {
        q: 'ì‹ ìš©ëŒ€ì¶œ ê¸ˆë¦¬ëŠ” ì–´ë–»ê²Œ ê²°ì •ë˜ë‚˜ìš”?',
        a: `ì‹ ìš©ì ìˆ˜, ì†Œë“, ì§ì¥(ì§ì¥ì¸/ê³µë¬´ì›/ì „ë¬¸ì§), ê¸°ì¡´ ëŒ€ì¶œ í˜„í™©ì— ë”°ë¼ ê²°ì •ë©ë‹ˆë‹¤. 1ê¸ˆìœµê¶Œ(ì‹œì¤‘ì€í–‰) ê¸°ì¤€ ì—° 4~10%, 2ê¸ˆìœµê¶Œ(ì €ì¶•ì€í–‰)ì€ ì—° 10~20% ìˆ˜ì¤€ì…ë‹ˆë‹¤. ê¸ˆë¦¬ ë¹„êµ ì‚¬ì´íŠ¸(ê¸ˆìœµê°ë…ì› ê¸ˆìœµìƒí’ˆ í•œëˆˆì—, ë±…í¬ìƒëŸ¬ë“œ ë“±)ë¥¼ í™œìš©í•˜ì„¸ìš”.`
      }
    ];

    const faqContainer = document.getElementById('faq-content')!;
    faqContainer.innerHTML = faqs.map(faq => `
      <details class="group">
        <summary class="flex justify-between items-center cursor-pointer list-none p-3 bg-white dark:bg-gray-800 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-600">
          <span class="font-medium text-gray-900 dark:text-white">${faq.q}</span>
          <span class="text-gray-500 group-open:rotate-180 transition-transform">â–¼</span>
        </summary>
        <p class="mt-2 px-3 text-gray-600 dark:text-gray-400 text-sm">${faq.a}</p>
      </details>
    `).join('');

    // JSON-LD
    const faqSchema = {
      "@context": "https://schema.org",
      "@type": "FAQPage",
      "mainEntity": faqs.map(faq => ({
        "@type": "Question",
        "name": faq.q,
        "acceptedAnswer": { "@type": "Answer", "text": faq.a }
      }))
    };
    let schemaScript = document.getElementById('faq-schema') as HTMLScriptElement;
    if (!schemaScript) {
      schemaScript = document.createElement('script');
      schemaScript.id = 'faq-schema';
      schemaScript.type = 'application/ld+json';
      document.head.appendChild(schemaScript);
    }
    schemaScript.textContent = JSON.stringify(faqSchema);
  }
</script>
